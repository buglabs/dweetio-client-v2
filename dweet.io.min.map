{"version":3,"file":"dweet.io.min.js","sources":["dweet.io.js"],"names":["isArray","obj","Object","prototype","toString","call","isNode","e","io","request","lastThing","LAST_THING_NAME","DWEET_SERVER","STRICT_SSL","REQUEST_TIMEOUT","require","existsSync","readFileSync","options","callback","xhr","XMLHttpRequest","open","method","url","keys","headers","forEach","key","setRequestHeader","send","JSON","stringify","json","onreadystatechange","DONE","OK","readyState","status","response","responseText","console","log","re","onload","load","src","fn","script","document","createElement","this","test","async","body","appendChild","window","dweet_script_loader","srces","shift","length","dweetioClient","username","password","normalizeDweet","dweet","created","Date","normalizeDweets","dweets","Array","index","parseBody","responseData","String","parse","processResponse","err","Error","processDweetResponse","undefined","ensureLogin","self","token","login","makeRequest","X-DWEET-AUTH","Accept","Content-Type","data","followAllRedirects","timeout","strictSSL","jar","socket","listenCallbacks","currentThing","GROUP","set_server","server","globalAgent","rejectUnauthorized","thing","writeFile","get_latest_dweet_for","get_recent_dweets_for","get_dweets_for_past_hour_for","get_all_dweets_for","get_dweets_in_range","start","end","now","get_collection","collection","get_collections","get_all_locks","get_locks_count","get_used_locks","get_unused_locks","get_lock","lock","name","lockId","id","collectionname","unlock","get_thing","get_all_things","get_things_in_collection","get_count_in_collection","find_things_like","query","search","listen_for","createSocket","connect","on","emit","msg","callbacks","indexOf","push","stop_listening","disconnect","stop_listening_for","set_alert","recipients","condition","get_alert","get_alert_in_range","get_all_alerts","get_all_alerts_in_range","remove_alert","module","exports","dweetio"],"mappings":"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"}